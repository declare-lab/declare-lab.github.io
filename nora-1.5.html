<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>NORA-1.5: A Vision-Language-Action Model Trained using World Model- and Action-Based Preference Rewards</title>

  <!-- Tailwind + Chart.js -->
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

  <style>
    /* Overview small charts (responsive) */
    .chart-wrapper { height: 220px; }
    .chart-canvas { height: 100% !important; width: 100% !important; }

    /* Benchmark charts: fixed size canvas controlled by width/height attrs */
    .bench-chart-box {
      display:flex;
      justify-content:center;
      align-items:center;
      padding:8px 0;
    }
    .bench-centered { box-sizing: content-box; }

    /* Minor visual tweaks */
    .tab-btn.active { box-shadow: 0 6px 18px rgba(59,130,246,0.18); }

    /* ---------- Teaser & Comparison Styles (inserted) ---------- */
    :root{--teaser-bg:#0b1220;--muted:#9aa4b2;--accent:#6ee7b7}
/*    .teaser{background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));border:1px solid rgba(255,255,255,0.04);border-radius:18px;padding:36px;display:flex;align-items:center;justify-content:center;position:relative;height:420px;box-shadow:0 10px 40px rgba(2,6,23,0.6), inset 0 1px rgba(255,255,255,0.02);margin:2rem 0}
    .teaser-inner{display:flex;flex-direction:column;align-items:center;gap:18px;text-align:center}
    .teaser .image-placeholder{width:128px;height:128px;border-radius:18px;display:flex;align-items:center;justify-content:center;background:linear-gradient(135deg,#4753ff,#9b6bff);border:4px solid rgba(255,255,255,0.03);color:#fff;font-size:42px;box-shadow:0 18px 40px rgba(66,53,160,0.28), 0 4px 14px rgba(2,6,23,0.6)}
    .teaser .image-placeholder img{width:64px;height:64px;object-fit:contain}*/
        .teaser{background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));border:1px solid rgba(255,255,255,0.04);border-radius:18px;padding:36px;display:flex;align-items:center;justify-content:center;position:relative;height:auto;min-height:600px;box-shadow:0 10px 40px rgba(2,6,23,0.6), inset 0 1px rgba(255,255,255,0.02);margin:2rem 0}
    .teaser-inner{display:flex;flex-direction:column;align-items:center;gap:18px;text-align:center;width:100%;max-width:1400px}
    .teaser .image-placeholder{width:100%;max-width:1200px;height:auto;border-radius:18px;display:flex;align-items:center;justify-content:center;background:linear-gradient(135deg,#4753ff,#9b6bff);border:4px solid rgba(255,255,255,0.03);color:#fff;font-size:42px;box-shadow:0 18px 40px rgba(66,53,160,0.28), 0 4px 14px rgba(2,6,23,0.6);overflow:hidden}
    .teaser .image-placeholder img{width:100%;height:auto;object-fit:contain;display:block}
    .teaser .label{font-size:18px;color:var(--muted);margin-top:6px}
    .teaser .teaser-title{font-size:20px;margin:0;font-weight:700}
    .teaser .teaser-desc{color:var(--muted);font-size:13px;max-width:640px}
    .upload-hint{margin-top:10px;font-size:12px;color:var(--muted)}

    .compare{margin-top:28px;background:linear-gradient(180deg, rgba(255,255,255,0.015), transparent);padding:18px;border-radius:12px;border:1px solid rgba(255,255,255,0.03);margin-bottom:2rem}
    .compare .grid{display:grid;grid-template-columns:1fr 1fr;gap:16px}
    .card{background:linear-gradient(180deg,#071026,#071223);padding:12px;border-radius:10px;border:1px solid rgba(255,255,255,0.03)}
    .video-wrap{border-radius:8px;overflow:hidden;background:#000;display:flex;align-items:center;justify-content:center}
    video{width:100%;height:240px;object-fit:cover;display:block}
    .meta{display:flex;align-items:center;justify-content:space-between;margin-top:10px}
    .meta .tag{background:rgba(255,255,255,0.03);padding:6px 10px;border-radius:999px;font-weight:600;font-size:13px}
    .meta .tag.small{font-weight:500;font-size:12px;color:var(--muted);background:transparent}
    .summary{margin-top:8px;color:var(--muted);font-size:13px;line-height:1.35}
    .tagline{font-weight:700;margin-top:10px}
    .tagline .highlight{color:var(--accent)}

    @media (max-width:880px){.teaser{height:360px;padding:24px}.compare .grid{grid-template-columns:1fr}video{height:200px}}
    /* ---------- end inserted styles ---------- */
  </style>
</head>
<body class="min-h-screen bg-gradient-to-b from-slate-900 via-slate-800 to-slate-900 text-white">
  <header class="relative overflow-hidden">
    <div class="absolute inset-0 bg-gradient-to-r from-blue-600/20 to-purple-600/20"></div>
    <div class="container mx-auto px-6 py-20 relative z-10">
      <div class="max-w-5xl mx-auto text-center">
        <div class="mb-8 flex justify-center">
          <img src="https://declare-lab.github.io/assets/images/nora1.5-new.png" alt="NORA Logo" class="w-40 h-40 object-contain" />
        </div>
        <h1 class="text-6xl font-bold mb-6 bg-clip-text text-transparent bg-gradient-to-r from-blue-400 to-purple-400">NORA-1.5</h1>
        <p class="text-2xl text-slate-300 mb-4">A Vision-Language-Action Model Trained using <br> World Model- and Action-Based Preference Rewards</p>
        <p class="text-lg text-slate-400 mb-12 max-w-3xl mx-auto">Shows strong generalizability even with limited fine-tuning data</p>
<div class="flex flex-wrap justify-center gap-4 mb-16">

  <!-- GitHub -->
  <a href="https://github.com/declare-lab/nora-1.5"
     class="flex items-center gap-2 bg-white text-slate-900 px-8 py-4 rounded-lg font-semibold hover:bg-slate-100 transition-all shadow-lg">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-5 h-5">
      <path fill-rule="evenodd"
        d="M12 2C6.477 2 2 6.486 2 12.017c0 4.425 2.865 8.18 6.839 9.504.5.092.682-.217.682-.483 
        0-.237-.009-.868-.014-1.703-2.782.605-3.369-1.342-3.369-1.342-.454-1.158-1.11-1.467-1.11-1.467-.908-.62.069-.608.069-.608 
        1.004.07 1.531 1.032 1.531 1.032.892 1.53 2.341 1.088 2.91.833.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.113-4.555-4.951 
        0-1.093.39-1.988 1.029-2.688-.103-.253-.446-1.272.098-2.65 0 0 .84-.27 2.75 1.026A9.564 9.564 0 0112 6.844c.85.004 
        1.705.115 2.504.337 1.909-1.296 2.748-1.026 2.748-1.026.546 1.378.203 2.397.1 2.65.64.7 1.028 1.595 1.028 
        2.688 0 3.849-2.339 4.695-4.566 4.943.359.31.678.92.678 1.855 
        0 1.338-.012 2.419-.012 2.747 0 .268.18.58.688.482A10.019 10.019 0 0022 12.017C22 6.486 17.523 2 12 2z"
        clip-rule="evenodd"/>
    </svg>
    Code
  </a>

  <!-- Paper -->
  <a href="https://arxiv.org/abs/2511.14659"
     class="flex items-center gap-2 bg-gradient-to-r from-blue-600 to-purple-600 px-8 py-4 rounded-lg font-semibold hover:from-blue-700 hover:to-purple-700 transition-all shadow-lg">
    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"
         stroke-width="1.8" stroke="currentColor" class="w-5 h-5">
      <path stroke-linecap="round" stroke-linejoin="round"
        d="M19.5 14.25v-7.5a2.25 2.25 0 00-2.25-2.25H8.25A2.25 
           2.25 0 006 6.75v10.5A2.25 2.25 0 008.25 19.5h9a2.25 
           2.25 0 002.25-2.25z"/>
      <path stroke-linecap="round" stroke-linejoin="round"
        d="M9 7.5h6M9 12h6m-6 4.5h3" />
    </svg>
    Paper
  </a>

  <!-- Demo -->
  <a href="https://declare-lab.github.io/nora-1.5"
     class="flex items-center gap-2 border-2 border-slate-400 px-8 py-4 rounded-lg font-semibold hover:bg-slate-800 transition-all">
    <svg xmlns="http://www.w3.org/2000/svg" fill="currentColor"
         viewBox="0 0 24 24" class="w-5 h-5">
      <path d="M8 5v14l11-7z"/>
    </svg>
    Demo
  </a>

  <!-- HuggingFace -->
<a href="https://huggingface.co/declare-lab/nora-1.5"
   class="flex items-center gap-2 bg-yellow-400 text-slate-900 px-8 py-4 rounded-lg font-semibold hover:bg-yellow-300 transition-all shadow-lg">
  ðŸ¤— HuggingFace
</a>

</div>

      </div>
    </div>
  </header>

  <!-- Overview -->
  <section class="py-16 bg-slate-800/50">
    <div class="container mx-auto px-6">
      <div class="max-w-5xl mx-auto">
              <div class="teaser">
        <div class="teaser-inner">
          <div class="image-placeholder" id="teaser-placeholder">
            <img src="https://declare-lab.github.io/assets/images/nora-1.5-arxiv-teaser.png" alt="Teaser" />
          </div>
<!--           <h2 class="teaser-title">Teaser Image</h2>
          <div class="label">A bold visual anchor â€” showcasing NORA-1.5 (DPO)â€™s improved control.</div>
          <p class="teaser-desc">Use this hero-style teaser to highlight a clean grasp frame, smoothed trajectory visualization, or any compelling preview illustrating the DPO-enhanced performance.</p>
          <div class="upload-hint">Recommended: 1280Ã—720 or larger, PNG/JPG.</div> -->
        </div>
      </div>
        <h2 class="text-3xl font-bold text-center mb-8">Overview</h2>
        <div class="bg-slate-900/50 p-8 rounded-xl border border-slate-700 mb-8">
          <p class="text-lg text-slate-300 leading-relaxed mb-6">NORA-1.5 advances vision-language-action models through three key innovations: a <span class="text-blue-400 font-semibold">flow-matching action expert</span>, <span class="text-purple-400 font-semibold">action-conditioned world model rewards</span>, and <span class="text-green-400 font-semibold">DPO post-training</span>.</p>
          <p class="text-lg text-slate-300 leading-relaxed">State-of-the-art results across simulation benchmarks and robust cross-embodiment transfer to Galaxea A1 robot.</p>
        </div>
        <h3 class="text-2xl font-bold text-center mb-6">Performance Summary</h3>
        <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
          <div class="bg-slate-900/50 p-6 rounded-xl border border-slate-700">
            <h4 class="text-lg font-bold mb-4 text-center text-blue-400">SimplerEnv (VM)</h4>
            <div class="chart-wrapper">
              <canvas id="overviewChart1" class="chart-canvas w-full"></canvas>
            </div>
            <p class="text-center mt-3 text-sm text-slate-400">+5.5% over best baseline</p>
          </div>
          <div class="bg-slate-900/50 p-6 rounded-xl border border-slate-700">
            <h4 class="text-lg font-bold mb-4 text-center text-purple-400">LIBERO (Avg)</h4>
            <div class="chart-wrapper">
              <canvas id="overviewChart2" class="chart-canvas w-full"></canvas>
            </div>
            <p class="text-center mt-3 text-sm text-slate-400">+0.8% over best baseline</p>
          </div>
          <div class="bg-slate-900/50 p-6 rounded-xl border border-slate-700">
            <h4 class="text-lg font-bold mb-4 text-center text-green-400">Real Robot (Success)</h4>
            <div class="chart-wrapper">
              <canvas id="overviewChart3" class="chart-canvas w-full"></canvas>
            </div>
            <p class="text-center mt-3 text-sm text-slate-400">+12.2% over NORA</p>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Performance Benchmarks -->
  <section class="py-20">
    <div class="container mx-auto px-6">
      <div class="max-w-6xl mx-auto">
        <h2 class="text-4xl font-bold text-center mb-4">Performance Benchmarks</h2>
        <p class="text-center text-slate-400 mb-12">NORA-1.5 achieves state-of-the-art results across simulation and real-world benchmarks</p>

        <div class="flex justify-center gap-4 mb-8 flex-wrap">
          <button type="button" class="tab-btn px-6 py-3 rounded-lg font-semibold transition-all bg-blue-600 text-white" data-tab="simpler">SimplerEnv</button>
          <button type="button" class="tab-btn px-6 py-3 rounded-lg font-semibold transition-all bg-slate-800 text-slate-400" data-tab="libero">LIBERO</button>
          <button type="button" class="tab-btn px-6 py-3 rounded-lg font-semibold transition-all bg-slate-800 text-slate-400" data-tab="real">Real Robot</button>
          <button type="button" class="tab-btn px-6 py-3 rounded-lg font-semibold transition-all bg-slate-800 text-slate-400" data-tab="realhard">Real Robot (Hard)</button>
        </div>

        <div class="bg-slate-900/50 p-8 rounded-xl border border-slate-700">
          <div class="tab-panel" id="simpler">
            <h3 class="text-2xl font-bold mb-6 text-center">SimplerEnv Visual Matching</h3>
            <div class="bench-chart-box">
              <!-- fixed-size canvas: 720x360 keeps "thin + taller" look consistently -->
              <canvas id="simplerChart" class="bench-centered" width="720" height="360"></canvas>
            </div>
          </div>

          <div class="tab-panel hidden" id="libero">
            <h3 class="text-2xl font-bold mb-6 text-center">LIBERO Average Performance</h3>
            <div class="bench-chart-box">
              <canvas id="liberoChart" class="bench-centered" width="720" height="360"></canvas>
            </div>
          </div>

          <div class="tab-panel hidden" id="real">
            <h3 class="text-2xl font-bold mb-6 text-center">Galaxea A1 Real Robot Performance</h3>
            <div class="bench-chart-box">
              <canvas id="realChart" class="bench-centered" width="720" height="360"></canvas>
            </div>
          </div>

          <div class="tab-panel hidden" id="realhard">
            <h3 class="text-2xl font-bold mb-6 text-center">Real Robot Hard Tasks - DPO Impact</h3>
            <p class="text-center text-slate-400 mb-6">Performance on challenging tasks with unseen objects and distractors</p>
            <div class="bench-chart-box">
              <canvas id="realHardChart" class="bench-centered" width="720" height="360"></canvas>
            </div>

            <div class="mt-6 grid grid-cols-2 gap-4 text-center">
              <div class="bg-slate-800/50 p-4 rounded-lg">
                <div class="text-2xl font-bold text-green-400">+13.08%</div>
                <div class="text-sm text-slate-400">Success Rate Improvement</div>
              </div>
              <div class="bg-slate-800/50 p-4 rounded-lg">
                <div class="text-2xl font-bold text-blue-400">+11.54%</div>
                <div class="text-sm text-slate-400">Partial Success Improvement</div>
              </div>
            </div>
          </div>

        </div>
      </div>
    </div>
  </section>

  <!-- Other sections (kept concise) -->
  <section class="py-20 bg-slate-800/50">
    <div class="container mx-auto px-6">
      <div class="max-w-6xl mx-auto">
        <h2 class="text-4xl font-bold text-center mb-12">Key Contributions</h2>
        <div class="grid md:grid-cols-2 gap-8">
          <div class="bg-slate-900/50 p-8 rounded-xl border border-slate-700">
            <h3 class="text-2xl font-bold mb-4 text-blue-400">Flow-Matching Action Expert</h3>
            <p class="text-slate-300 leading-relaxed">Integrated trainable flow-matching expert with NORA backbone achieves superior performance and faster inference.</p>
          </div>
          <div class="bg-slate-900/50 p-8 rounded-xl border border-slate-700">
            <h3 class="text-2xl font-bold mb-4 text-purple-400">World Model Rewards</h3>
            <p class="text-slate-300 leading-relaxed">Action-conditioned V-JEPA2 world model provides goal-based reward signals for scalable preference optimization without simulators.</p>
          </div>
          <div class="bg-slate-900/50 p-8 rounded-xl border border-slate-700">
            <h3 class="text-2xl font-bold mb-4 text-green-400">DPO Post-Training</h3>
            <p class="text-slate-300 leading-relaxed">Direct preference optimization with hybrid rewards consistently improves performance across benchmarks.</p>
          </div>
          <div class="bg-slate-900/50 p-8 rounded-xl border border-slate-700">
            <h3 class="text-2xl font-bold mb-4 text-orange-400">Cross-Embodiment Transfer</h3>
            <p class="text-slate-300 leading-relaxed">Successfully transfers to unseen Galaxea A1 robot with strong generalization.</p>
          </div>
        </div>
      </div>
    </div>
  </section>

    <!-- Inserted: Teaser + Side-by-side comparison -->
  <section class="container mx-auto px-6">
    <div class="max-w-5xl mx-auto">

      <div class="compare">
        <div style="display:flex;align-items:center;justify-content:space-between;gap:12px;margin-bottom:12px">
          <div style="font-weight:700">Video Demo â€” Baseline vs Reward-driven DPO</div>
          <div style="color:var(--muted);font-size:13px">Play both videos to observe motion differences</div>
        </div>

        <div class="grid">
          <!-- Baseline -->
          <article class="card">
            <div class="video-wrap">
              <video controls muted playsinline preload="metadata">
                <source src="https://declare-lab.github.io/assets/videos/nora1.5.mp4" type="video/mp4" />
                Your browser does not support the video tag.
              </video>
            </div>
            <div class="meta">
              <div class="tag">NORA-1.5 â€” Baseline</div>
              <div class="tag small">Erratic â€¢ Fixations â€¢ Distractor grasps</div>
            </div>
            <div class="tagline"><span class="highlight">Zig-zag</span> grasps â€” frequent corrections, lower reliability</div>
            <p class="summary">The baseline model exhibits unstable behaviour: zig-zag motions, hesitation, and failed grasps due to distractor-target confusion.</p>
          </article>

          <!-- DPO -->
          <article class="card">
            <div class="video-wrap">
              <video controls muted playsinline preload="metadata">
                <source src="https://declare-lab.github.io/assets/videos/nora1.5-dpo.mp4" type="video/mp4" />
                Your browser does not support the video tag.
              </video>
            </div>
            <div class="meta">
              <div class="tag">NORA-1.5 (DPO)</div>
              <div class="tag small">Smooth â€¢ Consistent â€¢ Target-locked</div>
            </div>
            <div class="tagline"><span class="highlight">Smooth</span> and stable â€” fewer corrections, stronger success rate</div>
            <p class="summary">Reward-driven DPO post-training produces smoother trajectories, consistent approach vectors, and significantly higher grasp reliability.</p>
          </article>
        </div>

<!--         <div style="margin-top:16px;color:var(--muted);font-size:13px">
          <strong>Quick comparison:</strong>
          <ul style="margin:8px 0 0 18px">
            <li>Baseline: high motion variance, frequent target-loss.</li>
            <li>DPO: stabilized policy with clean target acquisition.</li>
            <li>Side-by-side playback highlights reduction in corrective actions.</li>
          </ul>
        </div> -->
      </div>
    </div>
  </section>

  <!-- Citation & Footer -->
  <section class="py-20">
    <div class="container mx-auto px-6">
      <div class="max-w-4xl mx-auto bg-slate-900/50 p-8 rounded-xl border border-slate-700">
        <h2 class="text-2xl font-bold mb-4">Citation</h2>
        <pre class="bg-slate-950 p-6 rounded-lg overflow-x-auto text-sm text-slate-300">@article{hung2025nora15,
  title={NORA-1.5: A Vision-Language-Action Model Trained using World Model- and Action-Based Preference Rewards},
  author={Hung, Chia-Yu and Majumder, Navonil and Deng, Haoyuan, Liu Renhang, Yankang Ang, Amir Zadeh, Chuan Li, Dorien Herremans, Ziwei Wang, and Soujanya Poria},
  journal={arXiv preprint},
  year={2025}
}</pre>
      </div>
    </div>
  </section>

  <footer class="py-12 bg-slate-950 border-t border-slate-800">
    <div class="container mx-auto px-6 text-center">
      <p class="text-slate-400 mb-4">Nanyang Technological University Â· Lambda Labs Â· Singapore University of Technology and Design</p>
      <div class="flex justify-center gap-6">
        <a href="https://github.com/declare-lab/nora-1.5" class="text-slate-400 hover:text-white transition-colors">GitHub</a>
        <a href="https://declare-lab.github.io/nora-1.5" class="text-slate-400 hover:text-white transition-colors">Project Page</a>
        <a href="https://arxiv.org/abs/2511.14659" class="text-slate-400 hover:text-white transition-colors">Paper</a>
      </div>
    </div>
  </footer>

  <script>
    /* ---------------------------
       Safe chart initialization
       - Defensive checks so errors don't crash the page
       - Fixed benchmark canvases are non-responsive (keep thin + taller)
       --------------------------- */

    document.addEventListener('DOMContentLoaded', () => {
      // palette + data
      const palette = ['#60A5FA', '#34D399', '#F472B6', '#A78BFA', '#FBBF24'];

      const simplerVMData = [
        { model: 'OpenVLA', score: 27.7 },
        { model: 'SpatialVLA', score: 70.0 },
        { model: 'MolmoAct', score: 70.5 },
        { model: 'Ï€â‚€', score: 58.7 },
        { model: 'NORA-1.5', score: 76.9 },
        { model: 'NORA-1.5 (DPO)', score: 82.8 }
      ];

      const liberoData = [
        { model: 'OpenVLA', score: 76.5 },
        { model: 'SpatialVLA', score: 78.1 },
        { model: 'MolmoAct', score: 86.6 },
        { model: 'Ï€â‚€', score: 94.2 },
        { model: 'NORA-1.5', score: 94.5 },
        { model: 'NORA-1.5 (DPO)', score: 95.0 }
      ];

      const realRobotData = [
        { model: 'Ï€â‚€', success: 25.55, partial: 44.44 },
        { model: 'NORA', success: 58.88, partial: 73.3 },
        { model: 'NORA-1.5', success: 71.11, partial: 78.88 }
      ];

      const realRobotHardData = [
        { model: 'NORA-1.5', success: 56.92, partial: 72.30 },
        { model: 'NORA-1.5 (DPO)', success: 70.00, partial: 83.84 }
      ];

      // Default options for charts (shared)
      const defaultOptions = {
        responsive: true,
        maintainAspectRatio: false,
        layout: { padding: 10 },
        elements: {
          bar: {
            borderRadius: 6,
            maxBarThickness: 44,
            barPercentage: 0.6,
            categoryPercentage: 0.75
          }
        },
        plugins: {
          legend: {
            display: true,
            position: 'top',
            labels: {
              color: '#E2E8F0',
              font: { size: 13, weight: '600' },
              padding: 12,
              boxWidth: 14,
              boxHeight: 14,
            }
          },
          tooltip: {
            padding: 8,
            backgroundColor: 'rgba(15,23,42,0.95)',
            titleColor: '#E2E8F0',
            bodyColor: '#E6EEF8',
            bodyFont: { size: 13 }
          }
        },
        scales: {
          y: {
            beginAtZero: true,
            ticks: {
              stepSize: 20,
              color: '#CBD5E1',
              font: { size: 13, weight: '500' }
            },
            grid: {
              color: 'rgba(148, 163, 184, 0.08)',
              drawBorder: false
            }
          },
          x: {
            ticks: {
              color: '#E2E8F0',
              font: { size: 13, weight: '600' },
              maxRotation: 0,
              minRotation: 0,
              autoSkip: true,
              maxTicksLimit: 6
            },
            grid: { display: false }
          }
        }
      };

      // Safe merge helper (shallow merge for top-level, safe merge for nested objects we care about)
      function mergeOptions(base, override) {
        if (!override) return JSON.parse(JSON.stringify(base));
        const out = Object.assign({}, base, override);
        out.plugins = Object.assign({}, base.plugins, override.plugins || {});
        out.scales = Object.assign({}, base.scales, override.scales || {});
        out.elements = Object.assign({}, base.elements, override.elements || {});
        // ensure bar fields exist
        out.elements.bar = Object.assign({}, base.elements.bar || {}, (override.elements && override.elements.bar) ? override.elements.bar : {});
        return out;
      }

      // create chart safely (no crash if element missing)
      function safeCreateBarChart(canvasEl, labels, datasets, opts) {
        if (!canvasEl) return null;
        try {
          const ctx = canvasEl.getContext && canvasEl.getContext('2d');
          if (!ctx) return null;
          const options = mergeOptions(defaultOptions, opts);
          const ds = datasets.map((d, i) => Object.assign({ backgroundColor: d.backgroundColor || palette[i % palette.length], borderWidth: d.borderWidth ?? 0 }, d));
          return new Chart(ctx, { type: 'bar', data: { labels, datasets: ds }, options });
        } catch (err) {
          console.error('Chart init failed for', canvasEl.id, err);
          return null;
        }
      }

      // --- Initialize overview (responsive) ---
      safeCreateBarChart(
        document.getElementById('overviewChart1'),
        ['MolmoAct','NORA-1.5'],
        [{ label: 'Score', data: [71.8, 77.3], backgroundColor: '#60A5FA' }],
        { scales: { y: { max: 90 } }, plugins: { legend: { display: false } } }
      );

      safeCreateBarChart(
        document.getElementById('overviewChart2'),
        ['Ï€â‚€','NORA-1.5'],
        [{ label: 'Score', data: [94.2, 95.0], backgroundColor: '#A78BFA' }],
        { scales: { y: { max: 100 } }, plugins: { legend: { display: false } } }
      );

      safeCreateBarChart(
        document.getElementById('overviewChart3'),
        ['NORA','NORA-1.5'],
        [{ label: 'Success Rate', data: [58.88, 71.11], backgroundColor: '#34D399' }],
        { scales: { y: { max: 80 } }, plugins: { legend: { display: false } } }
      );

      // --- Benchmark charts (fixed size, non-responsive so bars remain thin + tall) ---
      const fixedBenchOptions = {
        responsive: false,
        maintainAspectRatio: false,
        elements: {
          bar: {
            maxBarThickness: 24,    // absolute pixel cap -> keeps bars thin
            barPercentage: 0.45,
            categoryPercentage: 0.45,
            borderRadius: 6
          }
        },
        plugins: { legend: { display: false } },
        scales: { y: { max: 100 } }
      };

      safeCreateBarChart(
        document.getElementById('simplerChart'),
        simplerVMData.map(d => d.model),
        [{ label: 'Score (%)', data: simplerVMData.map(d => Math.round(d.score * 10) / 10) }],
        mergeOptions(fixedBenchOptions, { scales: { y: { max: 90 } } })
      );

      safeCreateBarChart(
        document.getElementById('liberoChart'),
        liberoData.map(d => d.model),
        [{ label: 'Score (%)', data: liberoData.map(d => Math.round(d.score * 10) / 10) }],
        fixedBenchOptions
      );

      safeCreateBarChart(
        document.getElementById('realChart'),
        realRobotData.map(d => d.model),
        [
          { label: 'Success Rate', data: realRobotData.map(d => Math.round(d.success * 100) / 100), backgroundColor: '#34D399' },
          { label: 'Partial Success', data: realRobotData.map(d => Math.round(d.partial * 100) / 100), backgroundColor: '#60A5FA' }
        ],
        fixedBenchOptions
      );

      safeCreateBarChart(
        document.getElementById('realHardChart'),
        realRobotHardData.map(d => d.model),
        [
          { label: 'Success Rate', data: realRobotHardData.map(d => Math.round(d.success * 100) / 100), backgroundColor: '#34D399' },
          { label: 'Partial Success', data: realRobotHardData.map(d => Math.round(d.partial * 100) / 100), backgroundColor: '#60A5FA' }
        ],
        fixedBenchOptions
      );

      // Tabs (robust)
      const tabButtons = Array.from(document.querySelectorAll('.tab-btn'));
      const panels = Array.from(document.querySelectorAll('.tab-panel'));

      function showTab(tabId) {
        tabButtons.forEach(b => {
          if (b.getAttribute('data-tab') === tabId) {
            b.classList.add('bg-blue-600', 'text-white', 'active');
            b.classList.remove('bg-slate-800','text-slate-400');
          } else {
            b.classList.remove('bg-blue-600', 'text-white', 'active');
            b.classList.add('bg-slate-800','text-slate-400');
          }
        });
        panels.forEach(p => {
          if (p.id === tabId) p.classList.remove('hidden'); else p.classList.add('hidden');
        });
      }

      // Attach handlers
      tabButtons.forEach(btn => {
        btn.addEventListener('click', () => {
          showTab(btn.getAttribute('data-tab'));
        });
      });

      // default tab
      if (tabButtons.length) {
        const firstTab = tabButtons[0].getAttribute('data-tab');
        showTab(firstTab);
      }
    });
  </script>
</body>
</html>
